# Bilibili å­—å¹•åŒæ­¥å·¥å…·

ä¸€ä¸ªç°ä»£åŒ–çš„ Web åº”ç”¨ï¼Œç”¨äºæ’­æ”¾ Bilibili è§†é¢‘å¹¶åŒæ­¥æ˜¾ç¤ºå­—å¹•ï¼Œæ”¯æŒè‡ªåŠ¨é«˜äº®å’Œæ‰‹åŠ¨æ ‡è®°åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¥ **è§†é¢‘æ’­æ”¾**: åµŒå…¥ Bilibili è§†é¢‘æ’­æ”¾å™¨ï¼Œæ— éœ€è·³è½¬
- ğŸ“ **å­—å¹•åŒæ­¥**: æ’­æ”¾æ—¶è‡ªåŠ¨é«˜äº®å½“å‰å­—å¹•æ®µè½
- âœï¸ **æ‰‹åŠ¨æ ‡è®°**: ç‚¹å‡»å­—å¹•å¯æ‰‹åŠ¨é«˜äº®ï¼Œæ ‡è®°é‡è¦å†…å®¹
- ğŸ’¾ **æŒä¹…åŒ–å­˜å‚¨**: é«˜äº®æ ‡è®°è‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨
- ğŸš€ **æ€§èƒ½ä¼˜åŒ–**: æ”¯æŒ 1000+ å­—å¹•æ®µè½çš„è™šæ‹ŸåŒ–æ¸²æŸ“
- â™¿ **æ— éšœç¢è®¿é—®**: å®Œæ•´çš„é”®ç›˜å¯¼èˆªå’Œå±å¹•é˜…è¯»å™¨æ”¯æŒ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript 5.x
- **æ ·å¼**: Tailwind CSS
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æµ‹è¯•**: Jest + React Testing Library + Playwright
- **è™šæ‹ŸåŒ–**: react-window

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm start
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨

1. åœ¨é¦–é¡µè¾“å…¥ Bilibili è§†é¢‘ URL
2. ç‚¹å‡»"åŠ è½½è§†é¢‘"æŒ‰é’®
3. è§†é¢‘åŠ è½½åï¼Œå­—å¹•ä¼šæ˜¾ç¤ºåœ¨æ’­æ”¾å™¨å³ä¾§
4. æ’­æ”¾è§†é¢‘æ—¶ï¼Œå½“å‰å­—å¹•ä¼šè‡ªåŠ¨é«˜äº®ï¼ˆé»„è‰²èƒŒæ™¯ï¼‰
5. ç‚¹å‡»ä»»æ„å­—å¹•æ®µè½å¯æ‰‹åŠ¨æ ‡è®°ï¼ˆè“è‰²è¾¹æ¡†ï¼‰

### æ”¯æŒçš„ URL æ ¼å¼

- `https://www.bilibili.com/video/BV1xx411c7mD`
- `https://www.bilibili.com/video/av12345`

### é”®ç›˜å¿«æ·é”®

- `Tab`: åœ¨å­—å¹•ä¹‹é—´å¯¼èˆª
- `Enter`: æ ‡è®°/å–æ¶ˆæ ‡è®°å½“å‰å­—å¹•
- `Space`: æ’­æ”¾/æš‚åœè§†é¢‘ï¼ˆåœ¨è§†é¢‘æ’­æ”¾å™¨å†…ï¼‰

## ğŸ§ª æµ‹è¯•

### è¿è¡Œå•å…ƒæµ‹è¯•

```bash
npm test
```

### è¿è¡Œæµ‹è¯•å¹¶æŸ¥çœ‹è¦†ç›–ç‡

```bash
npm run test:coverage
```

### è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•

```bash
npm run test:e2e
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
bilibili-text/
â”œâ”€â”€ app/                      # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ api/                 # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ bilibili/        # Bilibili API ä»£ç†
â”‚   â”œâ”€â”€ video/[videoId]/     # è§†é¢‘æ’­æ”¾é¡µé¢
â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx             # é¦–é¡µ
â”‚   â””â”€â”€ globals.css          # å…¨å±€æ ·å¼
â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”œâ”€â”€ ErrorMessage.tsx     # é”™è¯¯æç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ SubtitleDisplay.tsx  # å­—å¹•åˆ—è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ SubtitleSegment.tsx  # å•ä¸ªå­—å¹•æ®µè½ç»„ä»¶
â”‚   â”œâ”€â”€ VideoPlayer.tsx      # è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶
â”‚   â””â”€â”€ VideoUrlInput.tsx    # URL è¾“å…¥ç»„ä»¶
â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ React Hooks
â”‚   â”œâ”€â”€ useHighlights.ts     # é«˜äº®ç®¡ç† Hook
â”‚   â”œâ”€â”€ useSubtitles.ts      # å­—å¹•æ•°æ® Hook
â”‚   â”œâ”€â”€ useSubtitleSync.ts   # å­—å¹•åŒæ­¥ Hook
â”‚   â””â”€â”€ useVideoPlayer.ts    # è§†é¢‘æ’­æ”¾å™¨ Hook
â”œâ”€â”€ services/                # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”œâ”€â”€ bilibili.ts          # Bilibili API æœåŠ¡
â”‚   â”œâ”€â”€ storage.ts           # æœ¬åœ°å­˜å‚¨æœåŠ¡
â”‚   â””â”€â”€ subtitleParser.ts    # å­—å¹•è§£ææœåŠ¡
â”œâ”€â”€ stores/                  # Zustand çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ videoStore.ts        # è§†é¢‘çŠ¶æ€ Store
â”œâ”€â”€ types/                   # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ errors.ts            # é”™è¯¯ç±»å‹
â”‚   â”œâ”€â”€ highlight.ts         # é«˜äº®ç±»å‹
â”‚   â”œâ”€â”€ playback.ts          # æ’­æ”¾çŠ¶æ€ç±»å‹
â”‚   â”œâ”€â”€ subtitle.ts          # å­—å¹•ç±»å‹
â”‚   â””â”€â”€ video.ts             # è§†é¢‘ç±»å‹
â”œâ”€â”€ lib/                     # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ utils.ts             # é€šç”¨å·¥å…·å‡½æ•°
â””â”€â”€ __tests__/               # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ components/          # ç»„ä»¶æµ‹è¯•
    â”œâ”€â”€ hooks/               # Hook æµ‹è¯•
    â”œâ”€â”€ services/            # æœåŠ¡æµ‹è¯•
    â””â”€â”€ e2e/                 # ç«¯åˆ°ç«¯æµ‹è¯•
```

## ğŸ¯ æ€§èƒ½æŒ‡æ ‡

- âš¡ é¦–æ¬¡åŠ è½½: <2ç§’
- ğŸ¬ å­—å¹•åŒæ­¥å»¶è¿Ÿ: <500ms
- ğŸ–±ï¸ äº¤äº’å“åº”: <100ms
- ğŸ“Š æµ‹è¯•è¦†ç›–ç‡: >80%

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

æ— éœ€é…ç½®ç¯å¢ƒå˜é‡ï¼Œåº”ç”¨å®Œå…¨åœ¨å®¢æˆ·ç«¯è¿è¡Œã€‚

### æµè§ˆå™¨è¦æ±‚

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ å¼€å‘æ–‡æ¡£

è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£å’Œè®¾è®¡å†³ç­–è¯·å‚è€ƒï¼š

- [è§„æ ¼è¯´æ˜](specs/001-bilibili-subtitle-sync/spec.md)
- [å®ç°è®¡åˆ’](specs/001-bilibili-subtitle-sync/plan.md)
- [æ•°æ®æ¨¡å‹](specs/001-bilibili-subtitle-sync/data-model.md)
- [API å¥‘çº¦](specs/001-bilibili-subtitle-sync/contracts/)

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [Bilibili](https://www.bilibili.com) - è§†é¢‘å’Œå­—å¹•æ•°æ®æ¥æº
- [Next.js](https://nextjs.org) - React æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com) - CSS æ¡†æ¶
- [Zustand](https://github.com/pmndrs/zustand) - çŠ¶æ€ç®¡ç†

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ Issue æäº¤ã€‚

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œè¯·éµå®ˆ Bilibili çš„ä½¿ç”¨æ¡æ¬¾å’Œç‰ˆæƒè§„å®šã€‚
